







[toc]

# 网络七层架构？各层作用？//-todo

# TCP报文格式

> https://baijiahao.baidu.com/s?id=1654225744653405133&wfr=spider&for=pc

![image-20220607191025334](https://tva1.sinaimg.cn/large/e6c9d24egy1h2zw3mabh9j20wm0oeq4f.jpg)

# TCP/IP原理

# TCP 与 UDP的区别？



# 三次握手和四次挥手

> tcp报文格式：
>
> 控制位（control flags）：ACK, SYN
>
> 确认码ack num
>
> 序列号：seq num

三次握手：

- 第一次握手：主机A向主机B发送同步位码SYN=1，序列号seq num=x，主机B由位码SYN=1得知主机A想要建立连接。
- 第二次握手：主机B回复主机A位码ACK=1, 确认码ack num=x+1, 序列号seq num = y。
- 第三次握手：主机A先确认ack num是否正确。如正确回复主机B位码ACK=1，确认码ack num=y+1。主机B确认ACK和ack num，建立连接。

四次挥手：是由tcp的半关闭导致的。因为tcp是全双工通信，两个方向都可以传输数据，所有一个方向的关闭称为半关闭。

- 第一次挥手：关闭客户端到服务端的连接，客户端发送位码FIN=1和序列号seq num=x, 表示客户没有数据要传送到服务端，等待服务端的处理。
- 第二次挥手：服务端收到信息后，回复确认信息：位码ACK=1，确认码ack num=x+1，服务进入close-wait状态，通知高层应用进程，因此A到B的连接就释放了。此时为半关闭状态，客户端不可发送数据到服务端，但服务端可以发送信息到客户端。
- 第三次挥手：关闭服务端到客户端的连接，服务端发送位位码FIN=1和序列号seq num = y，表示服务端没有数据要传送到客户端，等待客户端处理。
- 第四次挥手：客户端接收到位码FIN=1，回复位码ACK=1，确认码ack=y+1。客户发送确认后，进行time-wait状态。此时tcp连接还没有释放掉，等待设置的2MSL后，客户端进入close状态。
- 首先进行关闭的一方执行主动关闭，而另一方则是被动关闭。

```md
为什么客户端在TIME-WAIT阶段要等2MSL?

为的是确认服务器端是否收到客户端发出的ACK确认报文
当客户端发出最后的ACK确认报文时，并不能确定服务器端能够收到该段报文。所以客户端在发送完ACK确认报文之后，会设置一个时长为2MSL的计时器。MSL指的是Maximum Segment Lifetime：一段TCP报文在传输过程中的最大生命周期。2MSL即是服务器端发出为FIN报文和客户端发出的ACK确认报文所能保持有效的最大时长。
```



# http的原理

http协议是一个无状态的协议。无状态指的是客户端和服务端不会建立持久的连接，也就是客户端发送请求request到服务端后，服务端进行响应response。服务端不会保存连接的相关信息。

# http与tcp的区别







# https的工作原理





# lvs vs nginx

https://www.cnblogs.com/zhoading/p/16112188.html













- 撮合交易、背包算法
- dubbo源码

- springboot源码
- spring cloud相关的技术原理
